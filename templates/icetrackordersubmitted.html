<!-- ICE TRACK ORDER ENTRY PAGE: ADDS ENTRIES TO THE DATABASE OF ORDERS -->
 <!-- may need to add more pages here for fluidity -->
 <!DOCTYPE html>
 <html lang="en">
 <head>
 <title>Ice Track Order Entry Submitted!</title>
 <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/icetrackstyles.css') }}"/>
 </head>
 <body>
   <script src="{{ url_for('static',filename='script/icetrackJS.js') }}"></script>
   <script src="{{ url_for('static',filename='script/helpButton.js') }}"></script>
   </script>
   
   <div class="identifier">
         <a href="icetracklogin.html">Login</a> 
         <a href="icetracksignup.html">Sign Up</a> 
   </div>
 
 <div class="header">
   <h1>Enter an Order</h1>
 </div>
 
 <div class="topnav">
     <a href="icetrackhome.html"">Home</a> 
     <a href="icetrackorder.html">Order Entry</a>
     <a href="icetrackinventory.html">Inventory Management</a>
     <a href="icetrackshipment.html">Shipment Tracking</a>
     <a href="icetrackticketmgmt.html">Trouble Tickets</a>
     <a href="icetrackFAQ.html">FAQ</a>
   </div>
 <p id = "rcorners1" class = "myLabel">Here is a record of your most recent submission.</p>
  
<h2 class = "header">Submission Successful!</h2>

<div id="orderSummary"></div>

<body>
  <h2 class = "header2">Order Details</h2>
  {% if status == "success" %}
      <p>Your order has been successfully placed!</p>
  {% elif status == "failure" %}
      <p>Failed to place your order. Please try again later.</p>
  {% elif status == "error" %}
      <p>An error occurred: {{ error_message }}</p>
  {% else %}
      <p>Invalid order submission.</p>
  {% endif %}
</body>

<script>
  // Retrieve JSON data from localStorage
  const jsonString = localStorage.getItem('orderData');

  // Parse the JSON string back to an object
  const orderData = JSON.parse(jsonString);

  // Get the div to display the order summary
  const orderSummaryDiv = document.getElementById('orderSummary');

  // Display the JSON data
  if (orderData) {
    const orderHTML = `
     <h2 class = "header2">Order Details</h2>
      <p><strong><h4 class = "myLabel">Name</h4></strong> ${orderData.CustomerName}</p>
      <p><strong><h4 class = "myLabel">Shipping Address</h4></strong> ${orderData.ShippingAddress}</p>
      <p><strong><h4 class = "myLabel">Billing Address</h4></strong> ${orderData.BillingAddress}</p>
      <p><strong><h4 class = "myLabel">Order Description</h4></strong> ${orderData.OrderDescription}</p>
     <-!-- <h2 class = "header2">Costs</h2>
      <p><strong><h4 class = "myLabel">Subtotal</h4></strong> ${orderData.Subtotal}</p>
      <p><strong><h4 class = "myLabel">Shipping Cost</h4></strong> ${orderData.ShippingCost}</p>
      <p><strong><h4 class = "myLabel">Total Cost</h4>Total Cost:</strong> ${orderData.TotalCost}</p>
     <h2 class = "header2">Time Records</h2>
      <p><strong><h4 class = "myLabel">Order Date</h4></strong> ${orderData.OrderDate}</p>
      <p><strong><h4 class = "myLabel">Payment Date</h4></strong> ${orderData.PaymentDate}</p>
      <p><strong><h4 class = "myLabel">Estimated Arrival Date</h4></strong> ${orderData.ArrivalDate}</p>
      <h2 class = "header2">Customer Status</h2> -->
      <p><strong><h4 class = "myLabel">Customer Status</h4></strong> ${orderData.CustomerStatus}</p>
    `;
    orderSummaryDiv.innerHTML = orderHTML;
  } else {
    orderSummaryDiv.innerHTML = '<p>No order data found.</p>';
  }
</script>



 <p id = "rcorners1" class = "myLabel">Thank you for updating our records!</p>
 
 </body>
 </html>
 
